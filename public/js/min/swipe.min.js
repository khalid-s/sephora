var Swipe,isInDocument,toArray,transitionsSupport,__slice=[].slice;window.getComputedStyle||(window.getComputedStyle=function(t){return this.el=t,this.getPropertyValue=function(i){var e;return e=/(\-([a-z]){1})/g,"float"===i&&(i="styleFloat"),e.test(i)&&(i=i.replace(e,function(){return arguments[2].toUpperCase()})),t.currentStyle[i]?t.currentStyle[i]:null},this}),toArray=function(t){var i,e;if(!t)return[];if("object"===t&&"toArray"in t)return t.toArray();for(i=t.length||0,e=new Array(i);i--;)e[i]=t[i];return e},transitionsSupport=function(){var t,i,e,s,n;for(i=document.createElement("swipe"),n=["transitionProperty","WebkitTransition","MozTransition","OTransition","msTransition"],e=0,s=n.length;s>e;e++)if(t=n[e],null!=i.style[t])return!0;return!1},isInDocument=function(t){var i;for(i=document.body.parentNode;t;)return t===i?!0:(t=t.parentNode,!1)},Swipe=function(){function t(t,i){var e,s,n,h,o,r,l,d,a,c,u,p,x=this;if("string"==typeof t?(t=Sizzle(t),t.length>0?this.container=t[0]:console.error("No container !!!")):this.container=t,!this.container)return console.error("No container !!!"),void 0;this.noop=function(){},this.offloadFn=function(){},this.browser={addEventListener:!!window.addEventListener,touch:"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,transitions:transitionsSupport()},this.slides=[],this.width=null,this.length=null,this.interval=null,this.delay=0,this.nbPerSlide=1,this.cloneDone=!1,p=["delay","nbPerSlide"];for(c=0,u=p.length;u>c;c++)e=p[c],i[e]&&(this[e]=i[e]);if(this.isReady=!1,this.start={},this.delta={},this.isScrolling=!1,this.textDirection=Sizzle("html")[0].getAttribute("dir")||"ltr",this.defaultFloat="ltr"===this.textDirection?"left":"right",this.eventsCallbacks={},this.options=i||{},this.nbPerSlide>1){for(n=toArray(this.container.querySelector("ul").children),r=[],l=document.createElement("ul");n.length;){for(a=document.createElement("ul"),o=0;o<this.nbPerSlide&&(h=n.shift(),null!=h);)h.parentNode.removeChild(h),a.appendChild(h),o++;d=document.createElement("li"),d.appendChild(a),l.appendChild(d)}s=this.container.querySelector("ul"),s.parentNode.removeChild(s),this.container.appendChild(l)}this.element=this.container.querySelector("ul"),this.index=parseInt(this.options.startSlide)||0,this.speed=this.options.speed,this.speed=300,this.continuous="boolean"==typeof this.options.continuous?this.options.continuous:!1,this.setup(),this.delay&&this.begin(),this.browser.addEventListener?(this.browser.touch&&this.element.addEventListener("touchstart",this,!1),this.browser.transitions&&(this.element.addEventListener("webkitTransitionEnd",this,!1),this.element.addEventListener("msTransitionEnd",this,!1),this.element.addEventListener("oTransitionEnd",this,!1),this.element.addEventListener("otransitionend",this,!1),this.element.addEventListener("transitionend",this,!1)),window.addEventListener("resize",this,!1)):window.onresize=function(){return x.setup()}}return t.prototype.setup=function(){var t,i,e,s,n,h,o;for(this.slides=this.element.children,null==this.length&&(this.length=this.slides.length),this.slides.length<2&&(this.continuous=!1),this.browser.transitions&&this.continuous&&this.slides.length<3&&(this.element.appendChild(this.slides[0].cloneNode(!0)),this.element.appendChild(this.element.children[1].cloneNode(!0)),this.slides=this.element.children),this.browser.transitions||!this.continuous||this.cloneDone||(t=this.element.children[0],this.element.insertBefore(this.element.children[this.element.children.length-1].cloneNode(!0),t),this.element.appendChild(t.cloneNode(!0)),this.index=1,this.cloneDone=!0),this.slidePos=new Array(this.slides.length),this.width=this.container.getBoundingClientRect().width||this.container.offsetWidth,o=window.getComputedStyle(this.container,null),e=parseInt(o.getPropertyValue("padding-left"),10),s=parseInt(o.getPropertyValue("padding-right"),10),this.width=this.width-e-s,this.element.style.width=""+(this.slides.length*this.width+50)+"px",n=this.slides.length;n--;)h=this.slides[n],h.style.width=""+this.width+"px",h.setAttribute("data-index",n),this.browser.transitions&&(h.style[this.defaultFloat]=""+n*-this.width+"px",this.index>n?this.move(n,-this.width,0):this.index<n?this.move(n,this.width,0):this.move(n,0,0));this.continuous&&this.browser.transitions&&(this.move(this.circle(this.index-1),-this.width,0),this.move(this.circle(this.index+1),this.width,0)),this.browser.transitions||(this.element.style[this.defaultFloat]=""+this.index*-this.width+"px"),this.container.style.visibility="visible",this.container.style.height="",i=this.getPos(),this.isReady=!0,this.fire("ready",i,this.slides[i],this.length)},t.prototype.getPos=function(t){return null==t&&(t=this.index),this.browser.transitions&&this.continuous&&this.length<3&&t>=this.length?t-2:(this.cloneDone&&(t-=1,0>t&&(t=0)),t)},t.prototype.begin=function(){var t,i=this;return t=setTimeout(function(){return i._next()},this.delay)},t.prototype.stop=function(){return this.delay=0,clearTimeout(this.interval)},t.prototype._toLeft=function(){return this.continuous||this.index?this._slide(this.index-1):void 0},t.prototype._toRight=function(){return this.continuous||this.index<this.slides.length-1?this._slide(this.index+1):void 0},t.prototype._prev=function(){"rtl"===this.textDirection?this._toRight():this._toLeft()},t.prototype.prev=function(){return this.stop(),this._prev()},t.prototype._next=function(){"rtl"===this.textDirection?this._toLeft():this._toRight()},t.prototype.next=function(){return this.stop(),this._next()},t.prototype.circle=function(t){return(this.slides.length+t%this.slides.length)%this.slides.length},t.prototype._slide=function(t,i){var e,s,n,h;if(this.index!==t){if(this.browser.transitions){for(s=Math.abs(this.index-t)/(this.index-t),this.continuous&&(h=s,s=-this.slidePos[this.circle(t)]/this.width,s!==h&&(t=-s*this.slides.length+t)),e=Math.abs(this.index-t)-1;e--;)t>this.index?this.move(this.circle(t-e-1),this.width*s,0):this.move(this.circle(this.index-e-1),this.width*s,0);t=this.circle(t),this.continuous||(n=this.getPos(t),this.fire("willSlideTo",n,this.slides[t],this.length)),this.move(this.index,this.width*s,i||this.speed),this.move(t,0,i||this.speed),this.continuous&&(n=this.circle(t-s),this.fire("willSlideTo",this.getPos(n),this.slides[t],this.length),this.move(n,-(this.width*s),0))}else this.continuous&&this.cloneDone?(t=this.circle(t),this.fire("willSlideTo",n,this.slides[t],this.length),this.animate(this.index*-this.width,t*-this.width,i||this.speed),0===t?(t=this.element.children.length-2,this.animate(this.index*-this.width,t*-this.width,null)):t===this.element.children.length-1&&(t=1,this.animate(this.index*-this.width,t*-this.width,null))):(t=this.circle(t),n=this.getPos(t),this.fire("willSlideTo",n,this.slides[t],this.length),this.animate(this.index*-this.width,t*-this.width,i||this.speed));return this.index=t,this.offloadFn(this.callback&&this.callback(this.index,this.slides[this.index],this.length))}},t.prototype.slide=function(t,i){return this.stop(),this._slide(t,i)},t.prototype.move=function(t,i,e){return this.translate(t,i,e),this.slidePos[t]=i},t.prototype.translate=function(t,i,e){var s,n;return s=this.slides[t],(n=s&&s.style)?(n.webkitTransitionDuration=n.MozTransitionDuration=n.msTransitionDuration=n.OTransitionDuration=n.transitionDuration=e+"ms",n.webkitTransform="translate("+i+"px,0)translateZ(0)",n.msTransform=n.MozTransform=n.OTransform="translateX("+i+"px)"):void 0},t.prototype.animate=function(t,i,e){var s,n,h=this;return e?(s=+new Date,n=setInterval(function(){var o,r;return r=+new Date-s,r>e?(h.element.style[h.defaultFloat]=i+"px",h.delay&&h.begin(),h.transitionEnd&&h.transitionEnd.call(event,h.index,h.slides[h.index]),clearInterval(n),void 0):(o=(i-t)*(Math.floor(r/e*100)/100)+t+"px",h.element.style[h.defaultFloat]=o)},4)):(this.element.style[this.defaultFloat]=i+"px",void 0)},t.prototype.handleEvent=function(t){var i=this;switch(t.type){case"touchstart":this._touchstart(t);break;case"touchmove":this._touchmove(t);break;case"touchend":this.offloadFn(this._touchend(t));break;case"webkitTransitionEnd":case"msTransitionEnd":case"oTransitionEnd":case"otransitionend":case"transitionend":this.offloadFn(this._transitionEnd(t));break;case"resize":this.element.style.display="none",window.setTimeout(function(){return i.offloadFn(i.setup()),i.element.style.display=null},500)}return this.stopPropagation?t.stopPropagation():void 0},t.prototype._touchstart=function(t){var i;return i=t.touches[0],this.start={x:i.pageX,y:i.pageY,time:+new Date},this.isScrolling=void 0,this.delta={},this.element.addEventListener("touchmove",this,!1),this.element.addEventListener("touchend",this,!1)},t.prototype._touchmove=function(t){var i;t.touches.length>1||t.scale&&1!==t.scale||(this.disableScroll&&t.prevtDefault(),i=t.touches[0],this.delta={x:i.pageX-this.start.x,y:i.pageY-this.start.y},null==this.isScrolling&&(this.isScrolling=!!(this.isScrolling||Math.abs(this.delta.x)<Math.abs(this.delta.y))),this.isScrolling||(t.preventDefault(),this.stop(),this.continuous?(this.translate(this.circle(this.index-1),this.delta.x+this.slidePos[this.circle(this.index-1)],0),this.translate(this.index,this.delta.x+this.slidePos[this.index],0),this.translate(this.circle(this.index+1),this.delta.x+this.slidePos[this.circle(this.index+1)],0)):(this.delta.x=!this.index&&this.delta.x>0||this.index===this.slides.length-1&&this.delta.x<0?this.delta.x/(Math.abs(this.delta.x)/this.width+1):this.delta.x/1,this.translate(this.index-1,this.delta.x+this.slidePos[this.index-1],0),this.translate(this.index,this.delta.x+this.slidePos[this.index],0),this.translate(this.index+1,this.delta.x+this.slidePos[this.index+1],0))))},t.prototype._touchend=function(){var t,i,e,s;return i=+new Date-this.start.time,s=Number(i)<250&&Math.abs(this.delta.x)>20||Math.abs(this.delta.x)>this.width/2,e=!this.index&&this.delta.x>0||this.index===this.slides.length-1&&this.delta.x<0,this.continuous&&(e=!1),t=this.delta.x<0,this.isScrolling||(s&&!e?(t?(this.continuous?(this.move(this.circle(this.index-1),-this.width,0),this.move(this.circle(this.index+2),this.width,0)):this.move(this.index-1,-this.width,0),this.move(this.index,this.slidePos[this.index]-this.width,this.speed),this.move(this.circle(this.index+1),this.slidePos[this.circle(this.index+1)]-this.width,this.speed),this.index=this.circle(this.index+1)):(this.continuous?(this.move(this.circle(this.index+1),this.width,0),this.move(this.circle(this.index-2),-this.width,0)):this.move(this.index+1,this.width,0),this.move(this.index,this.slidePos[this.index]+this.width,this.speed),this.move(this.circle(this.index-1),this.slidePos[this.circle(this.index-1)]+this.width,this.speed),this.index=this.circle(this.index-1)),this.callback&&this.callback(this.index,this.slides[this.index],this.length)):this.continuous?(this.move(this.circle(this.index-1),-this.width,this.speed),this.move(this.index,0,this.speed),this.move(this.circle(this.index+1),this.width,this.speed)):(this.move(this.index-1,-this.width,this.speed),this.move(this.index,0,this.speed),this.move(this.index+1,this.width,this.speed))),this.element.removeEventListener("touchmove",this,!1),this.element.removeEventListener("touchend",this,!1)},t.prototype._transitionEnd=function(t){var i;return parseInt(t.target.getAttribute("data-index"),10)===this.index?(i=this.getPos(),this.fire("didSlideTo",i,this.slides[i],this.length),this.delay&&this.begin(),this.transitionEnd&&this.transitionEnd.call(t,this.index,this.slides[this.index])):void 0},t.prototype.callback=function(t,i,e){return this.fire("didSlideTo",this.getPos(t),i,e)},t.prototype.on=function(t,i){var e,s,n;return e=null!=(n=this.eventsCallbacks)[t]?(n=this.eventsCallbacks)[t]:n[t]=[],e.push(i),"ready"===t&&this.isReady?(s=this.getPos(),i(s,this.slides[s],this.length)):void 0},t.prototype.fire=function(){var t,i,e,s,n,h;if(s=arguments[0],t=2<=arguments.length?__slice.call(arguments,1):[],e=this.eventsCallbacks[s],null!=e){for(n=0,h=e.length;h>n;n++)i=e[n],null!=i&&i.apply(this,t);return!0}return!1},t}(),window.Swipe=Swipe;